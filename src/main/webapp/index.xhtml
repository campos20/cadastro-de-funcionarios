<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
	<!-- Required meta tags -->
	<meta charset="utf-8" />
	<meta name="viewport"
		content="width=device-width, initial-scale=1, shrink-to-fit=no" />

	<!-- Bootstrap CSS -->
	<link rel="stylesheet"
		href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
		integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
		crossorigin="anonymous" />
	<title>Cadastro de Funcionários</title>
</h:head>

<h:body>
	<div class="container">
		<ui:include src="/common/navbar.xhtml" />
		<h1>Cadastro de Funcionários</h1>
		<h:form>
			<div class="form-group">
				<h:outputLabel for="nome-input">Nome</h:outputLabel>
				<h:inputText class="form-control" id="nome-input" placeholder="Nome"
					equiredMessage="Campo obrigatório"
					value="#{funcionario.nome}" />
			</div>

			<div class="form-group">
				<h:outputLabel for="setor-input">Setor</h:outputLabel>
				<h:inputText class="form-control" placeholder="Setor"
					id="setor-input" value="#{funcionario.setor}" />
			</div>

			<div class="form-group">
				<h:outputLabel for="salario-input">Salário</h:outputLabel>
				<h:inputText class="form-control" placeholder="Salário"
					id="salario-input" value="#{funcionario.salario}" />
			</div>

			<h:commandButton value="Adicionar" class="btn btn-info"
				action="#{funcionarios.adicionar(funcionario)}" />

			<h:dataTable class="table table-bordered table-striped"
				value="#{funcionarios.funcionarios}" var="func">
				<h:column>
					<f:facet name="header">Id</f:facet>
					<h:outputText value="#{func.id}" />
				</h:column>

				<h:column>
					<f:facet name="header">Nome</f:facet>
					<h:commandLink action="#{funcionarios.selecionarFuncionario(func)}"
						outcome="funcionario">
						<h:outputText value="#{func.nome}" />
					</h:commandLink>
				</h:column>

				<h:column>
					<f:facet name="header">Setor</f:facet>
					<h:outputText value="#{func.setor}" />
				</h:column>

				<h:column>
					<f:facet name="header">Salário</f:facet>
					<h:outputText value="#{func.salario}">
						<f:convertNumber pattern="R$ #0.00" />
					</h:outputText>
				</h:column>

				<h:column>
					<h:commandButton value="Remover" class="btn btn-danger"
						action="#{funcionarios.remover(func)}" />
				</h:column>

			</h:dataTable>

		</h:form>

	</div>

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
		integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
		crossorigin="anonymous"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
		integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
		crossorigin="anonymous"></script>
</h:body>

</html>